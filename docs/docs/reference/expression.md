# 式

## リテラル

```
リテラル ::= bool型リテラル
        | "-"? double型リテラル
        | "-"? int型リテラル
        | str型リテラル
        | 識別子
        | symbol型リテラル
```

`識別子` はダブルクォートが省略された str 型リテラルとして扱われます。

## 演算子の優先順位
1. 前置修飾の単項演算子
2. 後置修飾の単項演算子
3. 乗除剰余演算子
4. 加減算演算子
5. ビットシフト演算子
6. 比較演算子
7. ビット演算子 `&`
7. ビット演算子 `^`
8. ビット演算子 `|`
9. 論理演算子 `&&`
9. 論理演算子 `||`

なお、リテラルに前置修飾の単項演算子をつけることはできません。

## 前置修飾の単項演算子

- **`-` int -> int**
- **`-` double -> double**

    符号の反転

- **`!` bool -> bool**

    論理否定

- **`~` int -> int**

    ビット反転

## 型ヒント演算子

型推論時にのみ効果を発揮する演算子。オペランドの値がそのまま結果の値となる。

- **int `:int` -> int**
- **double `:double` -> double**
- **str `:str` -> str**
- **bool `:bool` -> bool**
- **symbol `:symbol` -> symbol**

## 型変換演算子

- **double `:int` -> int**

    小数点以下を切り捨てる。

- **str `:int` -> int**

    数値文字列をパースして数値に変換する。変換に失敗したら `0` となる。

- **bool `:int` -> int**

    `false` は `0` に、`true` は `1` に変換される。

- **int `:double` -> double**

    整数を浮動小数点数に変換する。

- **str `:double` -> double**

    数値文字列をパースして数値に変換する。変換に失敗したら `0.` となる。

- **bool `:double` -> double**

    `false` は `0.` に、`true` は `1.` に変換される。

- **int `:str` -> str**
- **double `:str` -> str**

    数値を文字列に変換する。

- **bool `:str` -> str**

    `false` は `"false"` に、`true` は `"true"` に変換される。

