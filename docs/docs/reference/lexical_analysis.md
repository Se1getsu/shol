# 字句解析

空白文字は、リテラルの途中を除き無視されるため、任意の位置に挿入することができます。

## 改行

改行 `\n|\r\n|\r|\f` はトークンとして扱われます。

## 識別子

識別子は、Logos クレートの正規表現 `(\p{XID_Start}|_)\p{XID_Continue}*` に対応します。これは Rust の識別子の定義に基づいています。日本語の文字も識別子として使用することができます。

ただし、以下の予約語は識別子として使用することができません。

- `true`
- `false`

識別子は、コロニー名だけでなく、式中の文字列リテラルの代わりとしても使用されます。

## リテラル

### bool 型リテラル

`true` または `false` に対応します。

### double 型リテラル

小数部を `[0-9]+\.|[0-9]*\.[0-9]+`、指数部を `[eE][+-]?[0-9]+` として、`(小数部)(指数部)?|[0-9]+(指数部)` にマッチする浮動小数点数リテラルに対応します。

例：`0.1`, `1.0`, `1.`, `.1`, `1e1`, `1.2e+1`, `1e-5`

### int 型リテラル

`0|[1-9][0-9]*` のフォーマットにのみ対応します。

### str 型リテラル

`"` で囲まれた文字列リテラルに対応します。以下は対応しているエスケープシーケンスの一覧です。

- `\0` : ヌル文字
- `\a` : ベル (警告)
- `\b` : バックスペース
- `\t` : タブ
- `\n` : 改行
- `\v` : 垂直タブ
- `\f` : フォームフィード
- `\r` : キャリッジリターン
- `\e` : エスケープ
- `\"` : ダブルクォート
- `\\` : バックスラッシュ
- `\xXX`, `\uXXXX`, `\UXXXXXXXX` : 16進数表記の Unicode 文字 (X: 0-9, A-F, a-f)

### symbol 型リテラル

`'` または `'` で始まる識別子と同等の文字列に対応します。

## キャプチャ

`$` または `$` で始まる識別子と同等の文字列に対応します。

## 出力先

`#` または `#` で始まる識別子と同等の文字列に対応します。

## コメント

コメントはトークン化されず、無視されます。

1 行のコメントでは `//` を、1 行以上に渡るコメントには `/*` ... `*/` によるブロックコメントを使用できます。

ブロックコメントは、以下のようにネストさせることが可能です。

```shol
/*
ここはコメント
/*
ここもコメント
*/
ここもコメント
*/
```

## 演算子・マクロ

`:int`, `.int`, `.abs` などの演算子や、`@debug` のようなマクロは、すべて 1 つのトークンとして解析されます。

また、`:int` と `:i` のような省略形のある演算子は、どちらも同じトークンを生成します。
